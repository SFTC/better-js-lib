# æ–‡æ¡£

* [ç›®å½•](#ç›®å½•)
  * [Utils.idcard - *æ ¹æ®èº«ä»½è¯å·è·å–åˆ°ä¸€äº›ä¸ªäººä¿¡æ¯*](#utilsidcard)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­)
  * [Utils.is - *åˆ¤æ–­ JavaScript ç±»å‹çš„æ ¡éªŒåº“ï¼Œå¯ç”¨äºåˆ¤æ–­æ•°æ®ç±»å‹ç­‰*](#utilsis)
    * [general](#general)
    * [arguments](#arguments)
    * [array](#array)
    * [boolean](#boolean)
    * [date](#date)
    * [element](#element)
    * [error](#error)
    * [function](#function)
    * [number](#number)
    * [object](#object)
    * [regexp](#regexp)
    * [string](#string)
    * [encoded binary](#encoded-binary)
    * [Symbols](#symbols)
    * [BigInts](#bigints)
  * [Utils.exchangeTreeFieldName - *å…¨å±€æ›¿æ¢æ ‘å½¢ç»“æ„æ•°æ®çš„æŸä¸ªå­—æ®µï¼Œå¹¶ä¸”åœ¨å¯¹åº”äºŒçº§childrenæ•°ç»„ä¸Šæ·»åŠ â€œå…¨éƒ¨â€çš„é€‰é¡¹*](#utilsexchangetreefieldname)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-1)
  * [Utils.check - *æ£€éªŒå„ç±»ä¿¡æ¯*](#utilscheck)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-2)
  * [Utils.getUrlQuery - *è·å– url ä¸­çš„å‚æ•°*](#utilsgeturlquery)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-3)
  * [Utils.getUrlString - *å°†å¯¹è±¡è½¬æ¢ä¸º url åœ°å€åé¢å¯ä»¥æºå¸¦çš„å‚æ•°å½¢å¼*](#utilsgeturlstring)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-4)
  * [Utils.filterVoidObject - *è¿‡æ»¤å¯¹è±¡ä¸­çš„ç©ºå€¼*](#utilsfiltervoidobject)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-5)
  * [Utils.isVoidObject - *ç”¨æ¥åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå¯¹è±¡*](#utilsisvoidobject)
  * [Utils.hasEmoji - *æ ¡éªŒå­—ç¬¦ä¸²ä¸­æ˜¯å¦å«æœ‰ Emoji è¡¨æƒ…ç¬¦å·*](#utilshasemoji)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-6)
  * [Utils.getArrIntersection - *å–å¤šä¸ªæ•°ç»„çš„äº¤é›†*](#utilsgetarrintersection)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-7)
  * [Utils.NP - *åŠ ã€å‡ã€ä¹˜ã€é™¤ç²¾ç¡®è¿ç®—*](#utilsnp)
    * [æ–¹æ³•](#æ–¹æ³•)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-8)
  * [Utils.deepCopy - *æ·±æ‹·è´æ•°æ®*](#utilsdeepcopy)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-9)
  * [Utils.getPointsDistance - *è®¡ç®—ä¸¤ä¸ªåæ ‡ç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»*](#utilsgetpointsdistance)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-11)
  * [Utils.exchangeCoordinates - *ç”¨æ¥è½¬åŒ–åæ ‡ï¼Œä»¥ç”¨äºä¸åŒçš„åæ ‡ç³»*](#utilsexchangecoordinates)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-12)
  * [Utils.formatDate - *é›†åˆ â€œæ—¶é—´ç±»â€ çš„æ–¹æ³•*](#utilsformatdate)
    * [Utils.formatDate.formatTimeNum](#utilsformatdateformattimenum)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-13)
      * [Utils.formatDate.format](#utilsformatdateformat)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-14)
      * [Utils.formatDate.formatSeconds](#utilsformatdateformatseconds)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-15)
      * [Utils.formatDate.getDayZeroTm](#utilsformatdategetdayzerotm)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-16)
      * [Utils.formatDate.dayjs](#utilsformatdatedayjs)
      * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-17)
  * [Utils.batchHandleObjectFields - *å¯¹ä¸€ä¸ªå¯¹è±¡ä¸­æŒ‡å®šå­—æ®µè¿›è¡Œæ‰¹é‡å¤„ç†*](#utilsbatchhandleobjectfields)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-18)
  * [Utils.exchangeObjectFieldName - *æ›¿æ¢ä¸€ä¸ªå¯¹è±¡ä¸­ä¸€äº›æŒ‡å®šå±æ€§çš„å±æ€§å*](#utilsexchangeobjectfieldname)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-19)
  * [Utils.getScriptQuery - *è·å–è„šæœ¬å‘½ä»¤ä¸­çš„æŒ‡å®šå‚æ•°å€¼*](#utilsgetScriptQuery)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-20)
  * [Utils.getNumberWithPrecision - *å°†æ•°å­—è½¬ä¸ºç™¾åˆ†æ¯”æ ¼å¼*](#utilsgetNumberWithPrecision)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-21)
  * [Utils.GradientColor - *æ ¹æ®é¦–å°¾é¢œè‰²å’Œæ­¥é•¿è®¡ç®—å‡ºæ¸å˜é¢œè‰²çš„è‰²å€¼*](#utilsGradientColor)
    * [ä¾‹å­<g-emoji class="g-emoji" alias="chestnut" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f330.png">ğŸŒ°</g-emoji>](#ä¾‹å­-22)

## Utils.idcard

æ ¹æ®èº«ä»½è¯å·è·å–åˆ°ä¸€äº›ä¸ªäººä¿¡æ¯

é€šè¿‡è¿™ä¸ªæ–¹å¼å¯ä»¥ä»èº«ä»½è¯å·ä¸­æå–åˆ°è¿™ä¸ªäººã€ç”Ÿæ—¥ã€å¹´é¾„å’Œç”Ÿè‚–

* param {string} card èº«ä»½è¯å·

### ä¾‹å­ğŸŒ°

```js
import { Idcard } from 'better-js-lib';
var idcard = new Idcard('110102199901018781');
/*
  {
    birthday: {
      birthday: "1994/08/15",
      year: "1994",
      month: "08",
      day: "15"
    },
    age: '24',
    sex: 'ç”·',
    animalSigns: 'ç‹—'
  }
*/

idcard.IDCard15To18('131002940815361'); // 131002199408153611
idcard.getAge('131002199408153611'); // '24'
idcard.getAge('131002199408153611', 1554090947763); // '24'ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ç¬¬äºŒä¸ªå‚æ•°æ”¹å˜å¯¹æ¯”å¹´é¾„çš„åŸºå‡†æ—¶é—´
idcard.getAnimalSigns('131002199408153611'); // 'ç‹—'
idcard.getBirthday('131002199408153611');
/*
{
  birthday: "1994/08/15",
  year: "1994",
  month: "08",
  day: "15"
}
*/
```

å¯ä»¥é€šè¿‡ idcard æ–¹æ³•è·å–èº«ä»½è¯å·ç›¸å…³çš„å…¨éƒ¨ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å•ç‹¬çš„æ–¹æ³•è·å–æŒ‡å®šä¿¡æ¯

*æ³¨ï¼šå¦‚æœä¼ å…¥èº«ä»½è¯å·çš„æ ¼å¼ä¸å¯¹ï¼Œä»¥ä¸Šæ–¹æ³•ç»Ÿä¸€è¿”å›æ•°å­— -1ï¼›è¯·ç”¨ -1 åˆ¤æ–­èº«ä»½è¯æ ¼å¼æ˜¯å¦åˆæ³•ï¼Œæ²¡å¿…è¦åœ¨è·å–èº«ä»½è¯å·ä¿¡æ¯ä¹‹å‰è‡ªå·±å†™æ–¹æ³•æ ¡éªŒæ˜¯å¦åˆæ³•*

[:top:](#æ–‡æ¡£)

---

## Utils.is

åˆ¤æ–­ JavaScript ç±»å‹çš„æ ¡éªŒåº“ï¼Œå¯ç”¨äºåˆ¤æ–­æ•°æ®ç±»å‹ç­‰

### general

* ``is.a`` (value, type) æˆ–è€… ``is.type`` (value, type) - é€šè¿‡åŸç”Ÿ typeof æ ¡éªŒæ•°æ®ç±»å‹
* ``is.getType`` (value) - è·å– value çš„æ•°æ®ç±»å‹
* ``is.defined`` (value) - æ ¡éªŒ value æ˜¯å¦æœ‰å®šä¹‰
* ``is.empty`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºç©ºï¼Œè¿™é‡Œçš„"ç©º"åŒ…æ‹¬ !!value === falseã€[]ã€{}
* ``is.empty2`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºç©ºï¼Œè¿™é‡Œçš„"ç©º"åŒ…æ‹¬ nullã€undefinedã€''
* ``is.emptyObj`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºç©ºå¯¹è±¡
* ``is.equal`` (value, other) - æ ¡éªŒ value å’Œ other æ˜¯å¦ç›¸ç­‰ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ã€å‡½æ•°ã€æ—¥æœŸã€æ•°ç»„ã€å¯¹è±¡çš„æ·±å±‚å¯¹æ¯”
* ``is.hosted`` (value, host) - æ ¡éªŒ å¯¹è±¡ `hosted` çš„å±æ€§ `value` æ˜¯å¦æ˜¯ hosted(åŒ…æ‹¬é™¤åŸºæœ¬æ•°æ®ç±»å‹ä¹‹å¤–çš„å¯¹è±¡æ•°æ®ç±»å‹)
* ``is.instance`` (value, constructor) - æ ¡éªŒ value æ˜¯å¦æ˜¯ constructor çš„å®ä¾‹åŒ–å¯¹è±¡
* ``is.nil`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯ null
* ``is.undef`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯ undefined

### arguments

* ``is.args`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å‚æ•°æ•°ç»„
* ``is['args-empty']`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ªç©ºçš„å‚æ•°æ•°ç»„

### array

* ``is.array`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯æ•°ç»„
* ``is['array-empty']`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ªç©ºçš„æ•°ç»„
* ``is.arraylike`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ªç±»æ•°ç»„

### boolean

* ``is.bool`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å¸ƒå°”ç±»å‹

### date

* ``is.date`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯æ—¥æœŸç±»å‹

### element

* ``is.element`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ª HTML å…ƒç´ èŠ‚ç‚¹

### error

* ``is.error`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯ Error

### function

* ``is.fn`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å‡½æ•°ç±»å‹(åŒ…æ‹¬ `Function`ã€`GeneratorFunction`ã€`AsyncFunction`)

### number

* ``is.number`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯æ•°å­—
* ``is.infinite`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºæ— ç©·å¤§
* ``is.decimal`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºå°æ•°
* ``is.divisibleBy`` (value, n) - æ ¡éªŒ value æ˜¯å¦å¯ä»¥è¢«æ•´é™¤
* ``is.integer`` (value) - æ ¡éªŒ value æ˜¯å¦ä¸ºæ•´æ•°
* ``is.maximum`` (value, others) - åˆ¤æ–­ value æ˜¯å¦æ˜¯ `others`æ•°ç»„ä¸­æœ€å¤§çš„
* ``is.minimum`` (value, others) - åˆ¤æ–­ value æ˜¯å¦æ˜¯ `others`æ•°ç»„ä¸­æœ€å°çš„
* ``is.nan`` (value) - åˆ¤æ–­ value æ˜¯å¦æ˜¯ NaN
* ``is.even`` (value) - åˆ¤æ–­ value æ˜¯å¦æ˜¯å¶æ•°
* ``is.odd`` (value) - åˆ¤æ–­ value æ˜¯å¦æ˜¯å¥‡æ•°
* ``is.ge`` (value, other) - åˆ¤æ–­ value æ˜¯å¦å¤§äºæˆ–ç­‰äº other
* ``is.gt`` (value, other) - åˆ¤æ–­ value æ˜¯å¦å¤§äº other
* ``is.le`` (value, other) - åˆ¤æ–­ value æ˜¯å¦å°äºæˆ–ç­‰äº other
* ``is.lt`` (value, other) - åˆ¤æ–­ value æ˜¯å¦å°äº other
* ``is.within`` (value, start, finish) - åˆ¤æ–­ value æ˜¯å¦ä½äº [start, finish] åŒºé—´å†…

### object

* ``is.object`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å¯¹è±¡

### regexp

* ``is.regexp`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯æ­£åˆ™è¡¨è¾¾å¼

### string

* ``is.string`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯å­—ç¬¦ä¸²

### encoded binary

* ``is.base64`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ª base64 ç¼–ç çš„äºŒè¿›åˆ¶æ•°æ®
* ``is.hex`` (value) - æ ¡éªŒ value æ˜¯å¦æ˜¯ä¸€ä¸ªåå…­è¿›åˆ¶æ•°æ®

### Symbols

* ``is.symbol`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯ symbol

### BigInts

* ``is.bigint`` (value) - æ ¡éªŒ value çš„æ•°æ®ç±»å‹æ˜¯å¦æ˜¯ ES-æè®®çš„ bigint ç±»å‹

### ä¾‹å­ğŸŒ°

```js
import { is } from 'better-js-lib';
is.string('123'); // true
```

[:top:](#æ–‡æ¡£)

---

## Utils.exchangeTreeFieldName

å…¨å±€æ›¿æ¢æ ‘å½¢ç»“æ„æ•°æ®çš„æŸä¸ªå­—æ®µï¼Œå¹¶ä¸”åœ¨å¯¹åº”äºŒçº§childrenæ•°ç»„ä¸Šæ·»åŠ â€œå…¨éƒ¨â€çš„é€‰é¡¹

* param {array} arr - è¦å¤„ç†çš„æ•°ç»„
* param {string} newKey - è¦æ›¿æ¢æˆçš„ key
* param {string} oldKey - è¦è¢«æ¢æˆçš„ key
* param {boolen} [isDelete] - æ—§çš„ key æ˜¯å¦è¦è¢«å¹²æ‰
* return {array} è¿”å›å¤„ç†ä¹‹åçš„æ ‘å½¢ç»“æ„æ•°æ®

### ä¾‹å­ğŸŒ°

```js
import { exchangeTreeFieldName } from 'better-js-lib';
const arr = [
  {
    "dept_code":"001",
    "dept_name":"æ€»éƒ¨",
    "parent_dept_code":"",
    "type_level":0,
    "children":[
      {
        "dept_code":"CN02",
        "dept_name":"åä¸œå¤§åŒº",
        "parent_dept_code":"001",
        "type_level":1,
        "children":[
          {
            "dept_code":"512Y",
            "dept_name":"è‹å·åŒºéƒ¨",
            "parent_dept_code":"CN02",
            "type_level":2,
            "children":[
              {
                "dept_code":"512A",
                "dept_name":"é¢†ç§€æ±Ÿå—ç»è¥åˆ†éƒ¨",
                "parent_dept_code":"512Y",
                "type_level":3,
                "children":[
                  {
                    "dept_code":"512TG",
                    "dept_name":"å¹²å°†ä¸œè·¯é€Ÿè¿è¥ä¸šç‚¹",
                    "parent_dept_code":"512A",
                    "type_level":4
                  }
                ]
              },
            ]
          }
        ]
      },
    ]
  }
];
exchangeTreeFieldName(arr, 'title', 'dept_name', false);
/*
[
  {
    "dept_code":"001",
    "dept_name":"æ€»éƒ¨",
    "title": 'æ€»éƒ¨',
    "parent_dept_code":"",
    "type_level":0,
    "children":[
      {
        "dept_code":"CN02",
        "dept_name":"åä¸œå¤§åŒº",
        "title":"åä¸œå¤§åŒº",
        "parent_dept_code":"001",
        "type_level":1,
        "children":[
          {
            "dept_code":"512Y",
            "dept_name":"è‹å·åŒºéƒ¨",
            "title":"è‹å·åŒºéƒ¨",
            "parent_dept_code":"CN02",
            "type_level":2,
            "children":[
              {
                "dept_code":"512A",
                "dept_name":"é¢†ç§€æ±Ÿå—ç»è¥åˆ†éƒ¨",
                "title":"é¢†ç§€æ±Ÿå—ç»è¥åˆ†éƒ¨",
                "parent_dept_code":"512Y",
                "type_level":3,
                "children":[
                  {
                    "dept_code":"512TG",
                    "dept_name":"å¹²å°†ä¸œè·¯é€Ÿè¿è¥ä¸šç‚¹",
                    "title":"å¹²å°†ä¸œè·¯é€Ÿè¿è¥ä¸šç‚¹",
                    "parent_dept_code":"512A",
                    "type_level":4
                  }
                ]
              },
            ]
          }
        ]
      },
    ]
  }
];
*/
```

[:top:](#æ–‡æ¡£)

---

## Utils.check

æ ¡éªŒä¿¡æ¯

è¿™ä¸ªæ–¹æ³•é›†ä¸­äº†æ£€éªŒå„ç±»ä¿¡æ¯çš„å‡½æ•°

* param {string} message éœ€è¦æ ¡éªŒçš„ä¿¡æ¯
* return {boolean} æ ¡éªŒç»“æœ

### ä¾‹å­ğŸŒ°

```js
import { check } from 'better-js-lib';

/* æ ¡éªŒå­—ç¬¦ä¸²æ˜¯å¦éƒ½æ˜¯ä¸­æ–‡ */
check.checkCnString('è¿™æ˜¯ä¸€æ®µä¸­æ–‡'); // true

/* æ ¡éªŒ"èº«ä»½è¯å·"æ˜¯å¦åˆæ³•ï¼Œåªæ”¯æŒæ ¡éªŒ"18ä½"èº«ä»½è¯ */
/* "15ä½"èº«ä»½è¯å·è¯·é€šè¿‡ idcard.IDCard15To18 æ–¹æ³•è½¬æˆ"18ä½"åå†æ ¡éªŒ */
check.checkIDCard('110102198401015378'); // true

/* æ ¡éªŒ"é‚®ç®±"æ˜¯å¦åˆæ³• */
check.checkMail('13888888888@163.com'); // true

/* æ ¡éªŒ"æ‰‹æœºå·"æ˜¯å¦åˆæ³• */
check.checkPhone('13888888888'); // true

/* æ ¡éªŒ"æ‰‹æœºï¼Œ åº§æœºï¼Œ åˆ†æœºå·ç "æ˜¯å¦åˆæ³• */
check.checkTelephone('13888888888'); // true
```

[:top:](#æ–‡æ¡£)

---

## Utils.getUrlQuery

è·å– url ä¸­çš„å‚æ•°

* param {string} [key] éœ€è¦è·å–çš„ keyï¼Œå¦‚æœä¸ä¼ æ”¹å‚æ•°åˆ™è¿”å› url ä¸­çš„æ‰€æœ‰å‚æ•°ç»„æˆçš„å¯¹è±¡
* param {string} [url] å¯ä»¥é€šè¿‡ä¼ å…¥ url å‚æ•°æ¥è·å–æŒ‡å®š url çš„å‚æ•°ï¼Œä¸ä¼ åˆ™é»˜è®¤ä¸º window.location.href
* return {string|object|null} è¿”å›å¯¹åº” key çš„ valueï¼Œå¦‚æœæ²¡æœ‰çš„è¯åˆ™è¿”å› null

### ä¾‹å­ğŸŒ°

```js
import { getUrlQuery } from 'better-js-lib';
// url: http://localhost?name=zhangsan&age=25&phone=13888888888
getUrlQuery();
/*
{
  name: "zhangsan",
  age: "25",
  phone: "13888888888"
}
*/

getUrlQuery('name'); // zhangsan
getUrlQuery('sex'); // null
```

æ”¯æŒè·å–å¸¦ hash çš„ url çš„å‚æ•°
[:top:](#æ–‡æ¡£)

---

## Utils.getUrlString

å°†å¯¹è±¡è½¬æ¢ä¸º url åœ°å€åé¢å¯ä»¥æºå¸¦çš„å‚æ•°å½¢å¼

* param {object} obj éœ€è¦è½¬æ¢çš„å¯¹è±¡
* param {object} [config] é…ç½®é¡¹
    * - {boolean} hasPrefix åœ¨é¦–ä½å¢åŠ "?"

### ä¾‹å­ğŸŒ°

```js
import { getUrlString } from 'better-js-lib';
getUrlString({ name: "zhangsan", age: "25", phone: 13888888888 }); // name=zhangsan&age=25&phone=13888888888

getUrlString({ name: "zhangsan", age: "25", phone: 13888888888 }, { hasPrefix: true }); // ?name=zhangsan&age=25&phone=13888888888

getUrlString({ person: { name: "zhangsan", age: "25" }, auth: [1, 2, 3] }); // person={"name":"zhangsan","age":"25"}&auth=[1,2,3]
```

éåŸå‹æ•°æ®ç±»å‹çš„æ•°æ®ä¼šåš JSON.stringify å¤„ç†

[:top:](#æ–‡æ¡£)

---

## Utils.filterVoidObject

è¿™ä¸ªæ–¹æ³•ç”¨æ¥è¿‡æ»¤å¯¹è±¡ä¸­çš„ç©ºå€¼

* obj {Object} å¾…è¿‡æ»¤object
* isValid {Function} è‡ªå®šä¹‰å›è°ƒå‡½æ•°ï¼Œè¿”å›æœ‰æ•ˆçš„å€¼
* return {Object} è¿‡æ»¤åçš„object

### ä¾‹å­ğŸŒ°

```js
import { filterVoidObject } from 'better-js-lib';
filterVoidObject({
  a: 1,
  b: null,
  c: undefined,
  d: '',
  e: '1'
});
/*
  {
    a: 1,
    e: '1'
  }
*/
```

[:top:](#æ–‡æ¡£)

---

## Utils.isVoidObject

è¿™ä¸ªæ–¹æ³•ç”¨æ¥åˆ¤æ–­æ˜¯å¦ä¸ºç©ºå¯¹è±¡

* param {Object} å¾…æ ¡éªŒobject
* return {Boolean} æ˜¯å¦ä¸ºç©ºå¯¹è±¡

```js
import { isVoidObject } from 'better-js-lib';
isVoidObject({});
/* true */

isVoidObject({a: 1});
/* false */

isVoidObject('123'); // Error('å‚æ•°ç±»å‹éobject')
/* false */
```

[:top:](#æ–‡æ¡£)

---

## Utils.hasEmoji

è¿™ä¸ªæ–¹æ³•ç”¨æ¥æ ¡éªŒå­—ç¬¦ä¸²ä¸­æ˜¯å¦å«æœ‰ Emoji è¡¨æƒ…ç¬¦å·

* text {String} è¿›è¡Œæ ¡éªŒçš„å­—ç¬¦ä¸²
* return {Boolean}æ˜¯å¦å«æœ‰è¡¨æƒ…ç¬¦å·
  
### ä¾‹å­ğŸŒ°

```js
import { hasEmoji } from 'better-js-lib';
hasEmoji('Unicorn ğŸ¦„'); // true

hasEmoji('cat'); // false
```

[:top:](#æ–‡æ¡£)

---

## Utils.getArrIntersection

å–å¤šä¸ªæ•°ç»„çš„äº¤é›†

* param {Array[Array,Array,...]} å†…å®¹ä¸ºä¸€ä¸ªä¸€ä¸ªçš„æ•°ç»„
* return {Array} äº¤é›†åçš„æ•°ç»„

### ä¾‹å­ğŸŒ°

```js
import { getArrIntersection } from 'better-js-lib';
getArrIntersection([1, 2], [1, 2, 4, 5], [2, 4, 6]);
/* [2] */

getArrIntersection([1, 2], [1, 2, 4, 5], [3, 4, 6]);
/* [] */
```

[:top:](#æ–‡æ¡£)

---

## Utils.NP

è¿™ä¸ªæ–¹æ³•ç”¨æ¥è§£å†³ JavaScript ä¸­æµ®ç‚¹æ•° åŠ ã€å‡ã€ä¹˜ã€é™¤ä¸­æ•°å­—ç²¾åº¦çš„é—®é¢˜

### æ–¹æ³•

```js
NP.strip(num)                      // è·å–ç¦» num æœ€è¿‘çš„æ­£ç¡®çš„æ•°å­—
NP.plus(num1, num2, num3, ...)     // åŠ æ³•ï¼Œnum + num2 + num3ï¼Œè‡³å°‘ä¼ å…¥ä¸¤ä¸ªæ•°å­—
NP.minus(num1, num2, num3, ...)    // å‡æ³•ï¼Œnum - num2 - num3
NP.times(num1, num2, num3, ...)    // ä¹˜æ³•ï¼Œnum1 * num2 * num3
NP.divide(num1, num2, num3, ...)   // é™¤æ³•ï¼Œnum1 / num2 / num3
NP.round(num, ratio)               // ä¸º num ä¿ç•™ ratio ä½å°æ•°
```

### ä¾‹å­ğŸŒ°

```js
import { NP } from 'better-js-lib';
NP.strip(0.09999999999999998); // = 0.1
NP.plus(0.1, 0.2);             // = 0.3, not 0.30000000000000004
NP.plus(2.3, 2.4);             // = 4.7, not 4.699999999999999
NP.minus(1.0, 0.9);            // = 0.1, not 0.09999999999999998
NP.times(3, 0.3);              // = 0.9, not 0.8999999999999999
NP.times(0.362, 100);          // = 36.2, not 36.199999999999996
NP.divide(1.21, 1.1);          // = 1.1, not 1.0999999999999999
NP.round(0.105, 2);            // = 0.11, not 0.1
```

æ³¨ï¼šå¦‚æœä½ ä¸æƒ³å¾—åˆ°è¿™æ ·çš„æç¤º `XXX is beyond boundary when transfer to integer, the results may not be accurate`ï¼Œä½¿ç”¨ä¸‹é¢çš„æ–¹å¼æƒ³é¡¹ç›®å¯åŠ¨æ—¶å…³é—­è¾¹ç•Œæ£€æŸ¥ï¼š

```js
NP.enableBoundaryChecking(false); // default param is true
```

æ›´å¤š API è¯·å‚è€ƒï¼š[number-precision](https://github.com/nefe/number-precision)

[:top:](#æ–‡æ¡£)

---

## Utils.deepCopy

è¿™ä¸ªæ–¹æ³•ç”¨æ¥æ·±æ‹·è´æ•°æ®ï¼Œæ–¹æ³•åŒ [lodash.clonedeep](https://lodash.com/docs/4.17.11#cloneDeep)ï¼Œç›®å‰æ”¯æŒçš„æ•°æ®ç±»å‹ï¼šå¯¹è±¡ã€æ•°ç»„ã€å‡½æ•°ç­‰

* param {Any} éœ€è¦è¢«æ·±æ‹·è´çš„æ•°æ®
* return {Any} æ‹·è´çš„æ–°æ•°æ®

### ä¾‹å­ğŸŒ°

```js
import { deepCopy } from 'better-js-lib';
var obj = {
  key: {
    name: 'person'
  }
};

var obj_copy = deepCopy(obj);
obj_copy.key.name = 'person_copy';

obj.key.name; // 'person'
```

[:top:](#æ–‡æ¡£)

---

## Utils.getPointsDistance

è¿™ä¸ªæ–¹æ³•ç”¨æ¥è®¡ç®—ä¸¤ä¸ªåæ ‡ç‚¹ä¹‹é—´çš„ç›´çº¿è·ç¦»

* param {Number} [s_lat] èµ·å§‹ç‚¹çº¬åº¦
* param {Number} [s_lng] èµ·å§‹ç‚¹ç»åº¦
* param {Number} [e_lat] ç»ˆç‚¹çº¬åº¦
* param {Number} [e_lng] ç»ˆç‚¹ç»åº¦
* return {Number} è·ç¦»ï¼Œå•ä½ä¸ºåƒç±³

### ä¾‹å­ğŸŒ°

```js
import { getPointsDistance } from 'better-js-lib';
getPointsDistance(40, 166, 40, 167); // 118.1
```

[:top:](#æ–‡æ¡£)

---

## Utils.exchangeCoordinates

è¿™ä¸ªæ–¹æ³•ç”¨æ¥è½¬åŒ–åæ ‡ï¼Œä»¥ç”¨äºä¸åŒçš„åæ ‡ç³»

* param {Object} [Coord] åæ ‡ç³»ï¼Œä¾‹å¦‚ï¼š{lng, lat}
* param {String} [origin] åŸåæ ‡ç³»æ ¼å¼ï¼Œå¯é€‰å€¼ï¼š[gg:å›½æ ‡ï¼Œbdï¼šç™¾åº¦åæ ‡]
* param {String} [format] è¦è½¬æˆçš„æ ¼å¼ï¼Œå¯é€‰å€¼ï¼š[gg:å›½æ ‡ï¼Œbdï¼šç™¾åº¦åæ ‡]
* return {Object} è½¬æ¢åçš„åæ ‡

### ä¾‹å­ğŸŒ°

```js
import { exchangeCoordinates } from 'better-js-lib';
exchangeCoordinates({ lng: 123, lat: 45 }, 'bd', 'gg'); // { lng: 123, lat: 45 }
```

[:top:](#æ–‡æ¡£)

---

## Utils.formatDate

è¿™ä¸ªæ–¹æ³•é›†åˆäº† **â€œæ—¶é—´ç±»â€** çš„æ–¹æ³•ï¼Œå¼•ç”¨ **[dayjs](https://github.com/iamkun/dayjs)** æ—¶é—´åº“ï¼Œå› æ­¤ç”¨æˆ·ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ°æ‰€æœ‰çš„ dayjs æ–¹æ³•

### Utils.formatDate.formatTimeNum

è¿™ä¸ªæ–¹æ³•ç”¨æ¥æ ¼å¼åŒ–æ—¶é—´çš„æ•°å­—ï¼Œè¾“å…¥å°äº 9 çš„æ•°å­—å°†è¾“å‡ºæ•°å­—å‰é¢åŠ  0 çš„å­—ç¬¦ä¸²ï¼Œå¤§äº 9 çš„æ•°å­—ç›´æ¥å˜ä»¥å­—ç¬¦ä¸²çš„å½¢å¼è¾“å‡º

### ä¾‹å­ğŸŒ°

```js
import { formatDate } from 'better-js-lib';
formatDate.formatTimeNum(6); // "06"
formatDate.formatTimeNum(12); // "12"
```

### Utils.formatDate.format

è¿™ä¸ªæ–¹æ³•ç”¨æ¥æ ¼å¼åŒ–æ—¶é—´

* param {String|Date} dateStr å¯ä»¥è§£æä¼ å…¥çš„ä¸€ä¸ªæ ‡å‡†çš„[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)æ—¶é—´å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª Date å¯¹è±¡
* param {String} formatVal æ ¼å¼åŒ–æ¨¡æ¿ï¼Œè¦æ ¼å¼åŒ–çš„å½¢å¼
* return {String} æ ¼å¼åŒ–åæ—¶é—´

### ä¾‹å­ğŸŒ°

```js
import { formatDate } from 'better-js-lib';
formatDate.format('2019-01-25', '[YYYY] YYYY-MM-DDTHH:mm:ssZ[Z]'); // 'YYYY 2019-01-25T00:00:00-02:00Z'
```

*æ³¨ï¼šä½¿ç”¨æ–¹æ³•åŒ dayjs().format(String)ï¼Œè¯¦æƒ…å¯å‚è€ƒ [dayjs api](https://github.com/iamkun/dayjs/blob/dev/docs/zh-cn/API-reference.md#%E6%A0%BC%E5%BC%8F%E5%8C%96)*

### Utils.formatDate.formatSeconds

è¿™ä¸ªæ–¹æ³•å¯ä»¥æŠŠç§’è½¬æ¢æˆæ—¶åˆ†ç§’æ ¼å¼

* param {Number} seconds ç§’æ•°
* param {String} [formatVal] æ ¼å¼åŒ–æ¨¡æ¿ï¼Œé»˜è®¤æ˜¯ 'HH:mm:ss'
* return {String} æ—¶é—´

### ä¾‹å­ğŸŒ°

```js
import { formatDate } from 'better-js-lib';
formatDate.formatSeconds('86399'); // 23:59:59
formatDate.formatSeconds('86399', 'mm:ss'); // 59:59
```

*æ³¨ï¼šè¿™ä¸ªæ–¹æ³•æ˜¯ä» "1970-01-01 00:00:00" å¼€å§‹è®¡ç®—çš„ï¼Œæ‰€ä»¥å¹´æœˆæ—¥çš„å€¼æ²¡æœ‰æ„ä¹‰*

### Utils.formatDate.getDayZeroTm

è¿™ä¸ªæ–¹æ³•å¯ä»¥è·å–æŒ‡å®šæŸä¸€å¤©é›¶ç‚¹æ—¶çš„æ—¶é—´æˆ³

* param {Number} dateStr ç§’æ•°
* param {String} [unit] å•ä½ï¼Œå¯é€‰å€¼["s":ç§’|"ms":"æ¯«ç§’"|"":"dayjså¯¹è±¡"]
* return {Number|Object} æ—¶é—´æˆ³æˆ–è€… dayjs å¯¹è±¡

### ä¾‹å­ğŸŒ°

```js
import { formatDate } from 'better-js-lib';
formatDate.getDayZeroTm('2019-01-01 08:00:00', 's'); // 1546272000
formatDate.getDayZeroTm('2019-01-01 08:00:00', 'ms'); // 1546272000000
formatDate.getDayZeroTm('2019-01-01 08:00:00'); // åŒ dayjs(1546272000000) è¿”å›çš„å¯¹è±¡
```

### Utils.formatDate.dayjs

è¿™ä¸ªæ–¹æ³•ç”¨æ¥è·å–ä¸€ä¸ª dayjs å¯¹è±¡

* param {String|Date} dateStr å¯ä»¥è§£æä¼ å…¥çš„ä¸€ä¸ªæ ‡å‡†çš„[ISO 8601](https://en.wikipedia.org/wiki/ISO_8601)æ—¶é—´å­—ç¬¦ä¸²ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ª Date å¯¹è±¡
* return {Object} dayjs å¯¹è±¡

### ä¾‹å­ğŸŒ°

```js
import { formatDate } from 'better-js-lib';
formatDate.dayjs('2019-01-01 08:00:00'); // åŒ dayjs('2019-01-01 08:00:00') è¿”å›çš„å¯¹è±¡
```

*æ³¨ï¼šè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›ä¸€ä¸ª dayjs å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´è¿”å›çš„å¯¹è±¡ä¹Ÿæ‹¥æœ‰ dayjs ä¸­æ‰€æœ‰çš„æ–¹æ³•*

[:top:](#æ–‡æ¡£)

---

## Utils.batchHandleObjectFields

å¯¹ä¸€ä¸ªå¯¹è±¡ä¸­æŒ‡å®šå­—æ®µè¿›è¡Œæ‰¹é‡å¤„ç†

* param {Object} [target] ç›®æ ‡å¯¹è±¡
* param {Array} [handleArr] éœ€è¦è¢«å¤„ç†çš„å­—æ®µ
* param {Function} [format] å¤„ç†å‡½æ•°
* return {Object} å¤„ç†åçš„å¯¹è±¡

### ä¾‹å­ğŸŒ°

```js
import { batchHandleObjectFields } from 'better-js-lib';
const data = {
  price01: 10000,
  price02: 10000,
  price03: 10000,
  value: 'é‡‘é¢',
  obj: { value: '123' },
  arr: [1, 2, 3]
};
const processData = batchHandleObjectFields(data, ['price01', 'price02', 'price03'], (value) => value / 100);
/*
{
  price01: 100,
  price02: 100,
  price03: 100,
  value: 'é‡‘é¢',
  obj: { value: '123' },
  arr: [1, 2, 3]
}
*/
```

*æ³¨ï¼šç›®å‰æ­¤æ–¹æ³•åªæ”¯æŒå¤„ç†å€¼ä¸º **åŸºæœ¬æ•°æ®ç±»å‹** çš„å­—æ®µ*

[:top:](#æ–‡æ¡£)

---

## Utils.exchangeObjectFieldName

æ›¿æ¢ä¸€ä¸ªå¯¹è±¡ä¸­ä¸€äº›æŒ‡å®šå±æ€§çš„å±æ€§å

* param {Object} [obj] ç›®æ ‡å¯¹è±¡
* param {Array} [exchangeFields] éœ€è¦æ›¿æ¢çš„å¯¹è±¡å±æ€§å
* return {Object} å¤„ç†åçš„å¯¹è±¡

### ä¾‹å­ğŸŒ°

```js
import { exchangeObjectFieldName } from 'better-js-lib';
const data = {
  price01: 10000,
  price02: 10000,
  price03: 10000,
  value: 'é‡‘é¢',
  obj: { value: '123' },
  arr: [1, 2, 3]
};
const processData = exchangeObjectFieldName(data, [
  {
    oldName: 'price01',
    newName: 'newprice01'
  },
  {
    oldName: 'obj',
    newName: 'newobj',
    handler: (val) => {
      val.value = '456';
      return val;
    }
  }
]);
/*
{
  newprice01: 10000,
  price02: 10000,
  price03: 10000,
  value: 'é‡‘é¢',
  newobj: { value: '456' },
  arr: [1, 2, 3]
}
*/
```

[:top:](#æ–‡æ¡£)

---

## Utils.getScriptQuery

è·å– package.json çš„ scripts ä¸­å¯åŠ¨å‘½ä»¤çš„æŒ‡å®šå‚æ•°å€¼
*æ¯”å¦‚ä» npm run dev --proxy=mock å¾—åˆ° proxy çš„å€¼ä¸º mock*

* param {String} field è¦è·å–çš„å‚æ•°å
* param {String} [defaultValue] æœªè·å–åˆ°å‚æ•°å€¼ï¼Œå¯è®¾ç½®ä¸€ä¸ªé»˜è®¤å€¼
* return {String} å‚æ•°å€¼ï¼Œæ²¡æœ‰è·å–åˆ°å¹¶ä¸”æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ä¼šè¿”å› null

### ä¾‹å­ğŸŒ°

```js
// npm run dev --proxy=mock
import { getScriptQuery } from 'better-js-lib';
getScriptQuery('proxy'); // mock
getScriptQuery('port'); // null
```

[:top:](#æ–‡æ¡£)

---

## Utils.getNumberWithPrecision

å°†æ•°å­—è½¬ä¸ºç™¾åˆ†æ¯”æ ¼å¼

* param {Number} value è¦è½¬æ¢çš„æ•°å­—
* param {Number} [precision] ä¿ç•™å°æ•°ç‚¹åå‡ ä½æœ‰æ•ˆæ•°å­—ï¼Œé»˜è®¤ä¸º 2
* param {Boolean} [needUnit] ä¿æ˜¯å¦éœ€è¦æ·»åŠ å•ä½åç¼€ï¼Œé»˜è®¤ä¸º false
* return {String} è½¬æ¢åçš„ç™¾åˆ†æ¯”

### ä¾‹å­ğŸŒ°

```js
import { getNumberWithPrecision } from 'better-js-lib';
getNumberWithPrecision(0.126); // '12.60'
getNumberWithPrecision(0.126, 1); // '12.6'
getNumberWithPrecision(0.126, 0); // '13'
getNumberWithPrecision(0.126, -1); // '0.126'
getNumberWithPrecision(0.126, undefined, true); // '12.60%'
```

[:top:](#æ–‡æ¡£)

---

## Utils.GradientColor

æ ¹æ®é¦–å°¾é¢œè‰²å’Œæ­¥é•¿è®¡ç®—å‡ºæ¸å˜é¢œè‰²çš„è‰²å€¼

* param {Number} startRGB èµ·å§‹é¢œè‰²
* param {Number} endRGB ç»“æŸé¢œè‰²

æ–¹æ³•

* getColor è·å–é¢œè‰²å€¼æ•°ç»„
  * param {Number} step æ­¥é•¿
  * return {string[]} æ¸å˜é¢œè‰²å€¼æ•°ç»„

### ä¾‹å­ğŸŒ°

```js
import { GradientColor } from 'better-js-lib';

const gradientColor = new GradientColor('#0057A0', '#90D5FF');

gradientColor.getColor(5);
// ['rgb(0,87,160)','rgb(29,112,179)', 'rgb(58,137,198)', 'rgb(86,163,217)', 'rgb(115,188,236)']
```

[:top:](#æ–‡æ¡£)

---
